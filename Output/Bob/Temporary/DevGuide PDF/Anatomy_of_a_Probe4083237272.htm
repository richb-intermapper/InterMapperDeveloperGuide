<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Primary.online,Primary.print" MadCap:check_list="Ran Smart Index" MadCap:id="Probe_File_Format" MadCap:timeEstimate="0" MadCap:priority="0" MadCap:status="In Progress" MadCap:lastBlockDepth="5" MadCap:lastHeight="824" MadCap:lastWidth="576" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Creating Your Own Probes" MadCap:medium="print" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="PDF">
    <head><title>Anatomy of a Probe</title>
        <link href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Output/Bob/Temporary/DevGuide PDF/DevGuide PDF_6249A6BB/Resources/default.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1 class="L2" style="page-break-before: always;" MadCap:xrefTargetName="Anatomy of a Probe" MadCap:sourceTitle="Anatomy of a Probe"><a MadCap:generatedBookmark="TOC" name="Anatomy of a Probe"></a>Anatomy of a Probe</h1>
        <p>
            <MadCap:keyword term="Probe Type" />
            <MadCap:keyword term="Custom Probe File Format" />Probe files have several sections, several of which are common to all probe types. These are described below. </p>
        <p>Each section contains 
 a number of lines bracketed by </p><pre class="code">&lt;section-name&gt; ... &lt;/section-name&gt; </pre>
        <p>You might want to open a separate window with the                <a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/tcpexample.html">example 
 probe file<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/tcpexample.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="Example TCP Probe File"> (Pg 1)</MadCap:xref></a> while reading the subsequent sections. </p>
        <h2>Sections common to all probes</h2>
        <p class="dt"><a class="dt" href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/header.html">The &lt;header&gt; Section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/header.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;header&gt; Section"> (Pg 1)</MadCap:xref></a>
        </p>
        <p class="dd">Learn about the <span class="code">&lt;header&gt;</span> section of the probe definition, 
 including how the probe is identified, how its name appears in the                <b><i>Probe 
 Type</i></b> menu, and the version numbering system.</p>
        <p class="dt"><a class="dt" href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/description.html">The &lt;description&gt; Section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/description.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;description&gt; Section"> (Pg 1)</MadCap:xref></a>
        </p>
        <p class="dd">The <span class="code">&lt;description&gt;</span> section specifies the help text that appears in the Set Probe window and typically explains the function of the 
 probe and the use of its parameters. Format the description using IMML, <a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/IMML - InterMapper Markup Language.htm">InterMapper's Markup language<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/IMML - InterMapper Markup Language.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="IMML - InterMapper Markup Language"> (Pg 1)</MadCap:xref></a>.</p>
        <p class="dt"><a class="dt" href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/parameters.html">The &lt;parameters&gt; Section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/parameters.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;parameters&gt; Section"> (Pg 1)</MadCap:xref></a>
        </p>
        <p class="dd">The <span class="code">&lt;parameters&gt;</span> section defines the probe's parameters and how they are presented in the Set Probe window.</p>
        <p class="dt">Display Sections</p>
        <p class="dd">Each probe type has its own output section, which controls what appears in the device's Status window. In all probes, you format the appearance of Status window using IMML, <a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/IMML - InterMapper Markup Language.htm">InterMapper's Markup language<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/IMML - InterMapper Markup Language.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="IMML - InterMapper Markup Language"> (Pg 1)</MadCap:xref></a>.</p>
        <h2>Type-Specific Probe Sections</h2>
        <p>Each probe type has sections that are specific to that probe type. </p>
        <h3>Sections specific to SNMP&#160;Probes</h3>
        <p>Each custom SNMP probe has:
</p>
        <ul>
            <li value="1"><b><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/snmp-device-variables.htm#devvar">An <span class="code"><MadCap:keyword term="Snmp-device-variables"></MadCap:keyword>&lt;snmp-device-variables&gt;</span> 
    section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/snmp-device-variables.htm#devvar" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;snmp-device-variables&gt; Section"> (Pg 1)</MadCap:xref></a></b> - Specifies which MIB variables to collect from the device.</li>
            <li value="2"><b><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/Thresholds.htm">An <span class="code"><MadCap:keyword term="Snmp-device-threshold"></MadCap:keyword><MadCap:keyword term="Snmp-device-thresholds"></MadCap:keyword>&lt;snmp-device-thresholds&gt;</span> 
    section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/Thresholds.htm" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;snmp-device-thresholds&gt; Section"> (Pg 1)</MadCap:xref></a></b> - Specifies how those variables are to be tested against thresholds 
 to determine the device's status.</li>
            <li value="3"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/snmp-device-display.htm#devdisp"><b>An <span class="code"><MadCap:keyword term="Snmp-device-display" />&lt;snmp-device-display&gt;</span> 
    section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/snmp-device-display.htm#devdisp" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;snmp-device-display&gt; Section"> (Pg 1)</MadCap:xref></b></a> - Specifies what information about the device and its links 
 should be displayed in the Status window.</li>
            <li value="4"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/snmp-device-properties.htm#devprop"><b>The <span class="code"><MadCap:keyword term="Snmp-device-properties" />&lt;snmp-device-properties&gt;</span> 
    section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/snmp-device-properties.htm#devprop" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;snmp-device-properties&gt;    Section"> (Pg 1)</MadCap:xref></b></a> - Specifies certain aspects of the SNMP queries sent to the 
 device.</li>
            <li value="5"><b><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/snmp-device-alarmpoints.htm">The <span class="code">&lt;snmp-device-alarmpoints&gt;</span> Section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/snmp-device-alarmpoints.htm" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;snmp-device-alarmpoints&gt; Section"> (Pg 1)</MadCap:xref></a></b> - Allows you to define conditions under which the device changes a particular device state.</li>
        </ul>
        <h3>Sections specific to SNMP&#160;Trap Probes</h3>
        <p>SNMP Trap Probes do not probe devices - they simply wait for traps to arrive. They have some sections that are common to SNMP Probes, but work somewhat differently.</p>
        <ul>
            <li value="1"><b><a href="#devvar">An <span class="code"><MadCap:keyword term="Snmp-device-variables"></MadCap:keyword>&lt;snmp-device-variables&gt;</span> 
    section<MadCap:xref href="#devvar" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="Anatomy of a Probe"> (Pg 1)</MadCap:xref></a></b> - Specifies which MIB variables to collect from the device. These are set automatically when a trap is received.</li>
            <li value="2"><b><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/Thresholds.htm">An <span class="code"><MadCap:keyword term="Snmp-device-threshold" /><MadCap:keyword term="Snmp-device-thresholds" />&lt;snmp-device-thresholds&gt;</span> 
    section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/Thresholds.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;snmp-device-thresholds&gt; Section"> (Pg 1)</MadCap:xref></a></b> - Specifies how those variables are to be tested against thresholds 
 to determine the device's status.</li>
        </ul>
        <h3>Sections Specific to TCP Probes</h3>
        <p>Each custom TCP probe can have:</p>
        <ul>
            <li value="1"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/language.html"><b>A <span class="code">&lt;script&gt; </span>section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/language.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;script&gt; Section"> (Pg 1)</MadCap:xref></b></a> - This contains the probe's script. Scripts are written in InterMapper's <a class="dt" href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/language.html#scriptinglanguage">TCP&#160;Probe Scripting Language<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/language.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;script&gt; Section"> (Pg 1)</MadCap:xref></a>&#160;, which uses a sequence of commands and program flow that is similar to Basic. A rich set of <a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/commandref.html">TCP commands<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/commandref.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="TCP Probe Command Reference"> (Pg 1)</MadCap:xref></a> is available.</li>
            <li value="2"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/tcpscriptoutputsection.htm"><b>A <span class="code">&lt;script-output&gt;</span> section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/tcpscriptoutputsection.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;script-output&gt; Section"> (Pg 1)</MadCap:xref></b></a> - This contains the probe's output, which is displayed in the Status window. Format the Status window using IMML, <a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/IMML - InterMapper Markup Language.htm">InterMapper's Markup language<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/IMML - InterMapper Markup Language.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="IMML - InterMapper Markup Language"> (Pg 1)</MadCap:xref></a>.</li>
        </ul>
        <h3>Sections Specific to Command-line Probes</h3>
        <p>Each command-line probe also has:</p>
        <ul>
            <li value="1"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/command-line-section.htm" style="font-weight: bold;">The <span class="code">&lt;command-line&gt;</span> section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/command-line-section.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;command-line&gt; Section"> (Pg 1)</MadCap:xref></a> - builds the command-line, specifying the command path and any paramters to be sent with the command.</li>
            <li value="2"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/command-exit-section.htm" style="font-weight: bold;">The <span class="code">&lt;command-exit&gt;</span> section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/command-exit-section.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;command-exit&gt; Section"> (Pg 1)</MadCap:xref></a> - allows you to control the state of the device, depending on what is returned from the script.</li>
            <li value="3"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/Probe_Tool_Section.htm"><b>The <span class="code">&lt;tool&gt;</span> section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/Probe_Tool_Section.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;tool&gt; Section"> (Pg 1)</MadCap:xref></b></a>&#160;- contains the code for a companion script that is executed by the probe.</li>
            <li value="4"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/command-display-section.htm" style="font-weight: bold;">The <span class="code">&lt;command-display&gt;</span> section<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/command-display-section.htm" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="The &lt;command-display&gt; Section"> (Pg 1)</MadCap:xref></a> - allows you to control what appears in the device's Status window.</li>
        </ul>
        <h3>Other Information about Probes</h3>
        <p class="dt"><a class="dt" href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/comments.html">Comments<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/comments.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="Probe Comments"> (Pg 1)</MadCap:xref></a>
        </p>
        <p class="dd">All probes use the same format for comments. The comment format is similar to HTML comments.</p>
        <p class="dt"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/header.html#locations">Probe File Locations<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/header.html#locations" target="" title="" alt="" class="ListOfPageNumber" MadCap:conditions="Primary.print" MadCap:xrefTarget="$$xref$$_2"> (Pg 1)</MadCap:xref></a> and <a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/header.html#probefilenames">Probe File Names<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/header.html#probefilenames" target="" title="" alt="" class="ListOfPageNumber" MadCap:conditions="Primary.print" MadCap:xrefTarget="$$xref$$_1"> (Pg 1)</MadCap:xref></a></p>
        <p class="dd">To use probe files, you must import them, and should follow recommended naming conventions. </p>
        <p class="dt"><a href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/installing.html">Installing and Reloading Probes<MadCap:xref href="file:///E:/Projects/Doc Projects/Dartware/Flare-InterMapper/InterMapper Developer Guide/Content/02-CustomProbes/installing.html" target="" title="" alt="" MadCap:conditions="Primary.print" MadCap:xrefTarget="Working With Probe Files"> (Pg 1)</MadCap:xref></a>
        </p>
        <p class="dd"> Before a modification to a probe 
 becomes effective, you need to click the <b><i><MadCap:keyword term="Reload" />Reload probes...</i></b><MadCap:keyword term="Get Info window" /><MadCap:keyword term="Alert" /> button in 
 the Set Probe window (circular arrow icon below the left pane of the window).</p>
    </body>
</html>